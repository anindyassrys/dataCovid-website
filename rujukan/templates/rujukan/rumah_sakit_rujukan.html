{% extends 'base.html' %}
{% load static %}
{% block css %}
<!-- bootstraps css -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- bootstrap js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
{% endblock css %}
{% block meta %}
<head>
<title>Rumah Sakit Rujukan</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<style>

	#content {
		max-width: 80%;
		margin-left: auto;
		margin-right: auto;
	}

	#listRS>div {
		border-style: solid;
		border-color: black;
		background-color: lightgray;
		margin: 8px;
	}

	#listRS>div>div {
	padding: 8px;
	}

	
</style>
{% endblock %}

{% block content %}
<div id="content">
<br><br><br>
<h1>Rumah Sakit Rujukan</h1>

<label>Wilayah:</label>
	
<select id="wilayah">
	<option value="" selected>-- Silakan pilih --</option>
	{% for wilayah in dwilayah %}
		<option value="{{ wilayah.wid }}">{{ wilayah.nama }}</option>
	{% endfor %}
</select>
<div id="listRS"></div>
</div>

<script>

	$(document).ready(function(){
		$("#listRS>div").hide();

		$("select").change(function () {

			$("#listRS").html(
				"{% for rs in drs %}\
				<div class='{{rs.wilayah}}'>\
				<div class='profilRS'>\
				<p>{{rs.nama}}</p>\
				<p>{{rs.alamat}}</p>\
				<p>{{rs.telp}}</p>\
				<p>{{rs.mail}}</p>\
				</div>\
				</div>\
				{% endfor %}"
			)

			var selected = $(this).val();

			$("#listRS>div").each(function(){
				if ($(this).attr("class") == selected) {
					$(this).show();
				} else {
					$(this).hide();
				}
			})
			
    	});
	})
</script>
{% endblock %}
